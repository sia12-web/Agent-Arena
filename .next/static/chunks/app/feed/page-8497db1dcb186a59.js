(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[403],{926:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{callServer:function(){return a.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return r.findSourceMapURL}});let a=s(1209),r=s(5153),l=s(7197)},1203:(e,t,s)=>{Promise.resolve().then(s.bind(s,5128)),Promise.resolve().then(s.bind(s,2123)),Promise.resolve().then(s.t.bind(s,2619,23))},2123:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var a=s(5155),r=s(2619),l=s.n(r),n=s(926);let c=(0,n.createServerReference)("40c64c77c13408abd6ff696daf5c67e528e10945be",n.callServer,void 0,n.findSourceMapURL,"getUserVote");var i=s(2115),d=s(7359);function o(e){let{post:t,session:s}=e,[r,n]=(0,i.useState)(null);return(0,i.useEffect)(()=>{!async function(){s&&n(await c(t.id))}()},[t.id,s]),(0,a.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,a.jsx)("div",{className:"text-3xl",children:t.battle.agent.avatar}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-1",children:t.title}),(0,a.jsxs)("p",{className:"text-sm text-slate-400",children:["by ",t.author.email," • ",new Date(t.createdAt).toLocaleDateString()]})]})]}),(0,a.jsx)("p",{className:"text-slate-300 mb-4",children:t.body}),(0,a.jsx)("div",{className:"bg-slate-900/50 rounded-lg p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm text-slate-400",children:"Agent"}),(0,a.jsx)("div",{className:"font-semibold",children:t.battle.agent.name})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("span",{className:"text-sm text-slate-400",children:"Score"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:t.battle.scoreTotal})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("span",{className:"text-sm text-slate-400",children:"Type"}),(0,a.jsx)("div",{className:"capitalize",children:t.battle.challengeType})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(d.default,{postId:t.id,userVote:r,upvotesCount:t.upvotesCount,downvotesCount:t.downvotesCount}),(0,a.jsxs)("span",{className:"text-sm text-slate-400",children:[t._count.comments," ",1===t._count.comments?"comment":"comments"]})]}),(0,a.jsx)(l(),{href:"/post/".concat(t.id),className:"text-sm text-blue-400 hover:text-blue-300",children:"View Discussion →"})]})]})}},5128:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var a=s(5155),r=s(2619),l=s.n(r),n=s(63),c=s(6489),i=s(5239);function d(){var e;let t=(0,n.usePathname)(),{data:s,status:r}=(0,c.useSession)(),d=e=>t===e||(null==t?void 0:t.startsWith(e+"/"));return(0,a.jsx)("header",{className:"border-b border-slate-800 bg-slate-900/50 sticky top-0 z-10",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(l(),{href:"/",className:"flex items-center gap-2",children:[(0,a.jsx)(i.default,{src:"/logo.png",alt:"AgentForge Logo",width:40,height:40,className:"rounded-lg"}),(0,a.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"AgentForge"})]}),(0,a.jsxs)("nav",{className:"flex gap-6 items-center",children:[(0,a.jsx)(l(),{href:"/dashboard",className:"transition-colors ".concat(d("/dashboard")?"text-blue-400 font-medium":"text-slate-300 hover:text-white"),children:"Dashboard"}),(0,a.jsx)(l(),{href:"/arena",className:"transition-colors ".concat(d("/arena")?"text-blue-400 font-medium":"text-slate-300 hover:text-white"),children:"Arena"}),(0,a.jsx)(l(),{href:"/feed",className:"transition-colors ".concat(d("/feed")?"text-blue-400 font-medium":"text-slate-300 hover:text-white"),children:"Feed"}),(0,a.jsx)(l(),{href:"/leaderboard",className:"transition-colors ".concat(d("/leaderboard")?"text-blue-400 font-medium":"text-slate-300 hover:text-white"),children:"Leaderboard"}),"loading"===r?(0,a.jsx)("span",{className:"text-slate-500",children:"Loading..."}):s?(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("span",{className:"text-sm text-slate-400",children:null==(e=s.user)?void 0:e.email}),(0,a.jsx)("button",{onClick:()=>(0,c.signOut)({callbackUrl:"/"}),className:"text-sm text-slate-400 hover:text-white",children:"Sign Out"})]}):(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(l(),{href:"/login",className:"text-sm text-slate-300 hover:text-white",children:"Sign In"}),(0,a.jsx)(l(),{href:"/register",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:"Sign Up"})]})]})]})})})}},7359:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var a=s(5155),r=s(2115),l=s(926);let n=(0,l.createServerReference)("60739d63ed36ef2db6d40556771308c36653553917",l.callServer,void 0,l.findSourceMapURL,"votePost");function c(e){let{postId:t,userVote:s,upvotesCount:l,downvotesCount:c}=e,[i,d]=(0,r.useState)(s),[o,x]=(0,r.useState)(!1);async function m(e){if(o)return;x(!0);let s=await n(t,e);"success"in s&&s.success&&("removed"in s&&s.removed||i===e?d(null):d(e)),x(!1)}return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>m(1),disabled:o,className:"flex items-center gap-1 px-3 py-1 rounded-lg transition-all ".concat(1===i?"bg-green-900/50 text-green-300 border border-green-700":"bg-slate-700/50 text-slate-400 border border-slate-600 hover:bg-slate-700"),children:[(0,a.jsx)("span",{children:"↑"}),(0,a.jsx)("span",{children:(null!=l?l:0)+ +(1===i)})]}),(0,a.jsxs)("button",{onClick:()=>m(-1),disabled:o,className:"flex items-center gap-1 px-3 py-1 rounded-lg transition-all ".concat(-1===i?"bg-red-900/50 text-red-300 border border-red-700":"bg-slate-700/50 text-slate-400 border border-slate-600 hover:bg-slate-700"),children:[(0,a.jsx)("span",{children:"↓"}),(0,a.jsx)("span",{children:(null!=c?c:0)+ +(-1===i)})]})]})}}},e=>{e.O(0,[619,489,394,441,255,358],()=>e(e.s=1203)),_N_E=e.O()}]);