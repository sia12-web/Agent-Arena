exports.id=370,exports.ids=[370],exports.modules={16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,metadata:()=>f});var d=c(75338);c(82704);var e=c(66664);let f={title:"AgentForge - Train AI Agents. Battle in the Arena.",description:"Create AI agents, enter them into challenges, and climb the leaderboard.",icons:{icon:"/favicon.png"}};function g({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{children:(0,d.jsx)(e.Providers,{children:a})})})}},17290:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>f});var d=c(21124),e=c(57461);function f({children:a}){return(0,d.jsx)(e.SessionProvider,{children:a})}},35440:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},40190:(a,b,c)=>{"use strict";c.d(b,{Eb:()=>e,U5:()=>f,cr:()=>g});let d=new Map;async function e(a,b,c){let e=Date.now(),f=d.get(a);return!f||e>f.resetAt?(d.set(a,{count:1,resetAt:e+c}),{allowed:!0}):f.count>=b?{allowed:!1,retryAt:f.resetAt}:(f.count++,{allowed:!0})}function f(a){let b=function(a){let b=Math.ceil((a-Date.now())/1e3);if(b<60)return`${b} seconds`;let c=Math.ceil(b/60);return`${c} minutes`}(a);return{error:`You're doing that too fast. Try again in ${b}.`}}let g={login:{limit:10,window:6e4},battleSubmit:{limit:10,window:6e4},postPublish:{limit:10,window:36e5},vote:{limit:60,window:6e4},comment:{limit:20,window:6e4},follow:{limit:30,window:6e4}}},66147:(a,b,c)=>{"use strict";c.d(b,{N:()=>g});var d=c(28120),e=c(87082),f=c(70373);let g={providers:[(0,d.A)({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(a){if(!a?.email||!a?.password)return null;let b=await f.z.user.findUnique({where:{email:a.email}});return b&&await e.compare(a.password,b.password)?{id:b.id,email:b.email}:null}})],pages:{signIn:"/login"},session:{strategy:"jwt"},callbacks:{jwt:async({token:a,user:b})=>(b&&(a.id=b.id),a),session:async({session:a,token:b})=>(a.user&&(a.user.id=b.id),a)},secret:process.env.NEXTAUTH_SECRET}},66664:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\shahb\\myApplications\\Agent Arena\\components\\providers.tsx","Providers")},70373:(a,b,c)=>{"use strict";c.d(b,{z:()=>e});var d=c(96330);let e=globalThis.prisma??new d.PrismaClient},73432:(a,b,c)=>{Promise.resolve().then(c.bind(c,66664))},74104:(a,b,c)=>{Promise.resolve().then(c.bind(c,17290))},77774:(a,b,c)=>{"use strict";c.d(b,{EA:()=>e,cU:()=>g,u4:()=>f});var d=c(75338);function e({className:a="",style:b}){return(0,d.jsx)("div",{className:`animate-pulse bg-slate-700/50 rounded ${a}`,style:b})}function f({count:a=1}){return(0,d.jsx)(d.Fragment,{children:Array.from({length:a}).map((a,b)=>(0,d.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,d.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,d.jsx)(e,{className:"w-12 h-12 rounded-full"}),(0,d.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,d.jsx)(e,{className:"h-4 w-3/4"}),(0,d.jsx)(e,{className:"h-3 w-1/2"})]})]}),(0,d.jsx)(e,{className:"h-16 w-full"})]},b))})}function g({rows:a=5}){return(0,d.jsx)(d.Fragment,{children:Array.from({length:a}).map((a,b)=>(0,d.jsxs)("div",{className:"border-b border-slate-700 p-4 flex items-center gap-4",children:[(0,d.jsx)(e,{className:"w-8 h-8"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)(e,{className:"h-4 w-1/4 mb-2"}),(0,d.jsx)(e,{className:"h-3 w-1/3"})]}),(0,d.jsx)(e,{className:"w-16 h-6"})]},b))})}},78335:()=>{},82704:()=>{},83905:(a,b,c)=>{"use strict";c.d(b,{Gi:()=>k,Wz:()=>i,dx:()=>m,rY:()=>l,tY:()=>j});var d=c(75879);c(68633);var e=c(70373),f=c(52963),g=c(66147),h=c(40190);async function i(a=1,b=20){return await e.z.post.findMany({skip:(a-1)*b,take:b,orderBy:{createdAt:"desc"},include:{author:{select:{id:!0,email:!0}},battle:{include:{agent:{select:{id:!0,name:!0,avatar:!0}}}},_count:{select:{comments:!0}}}})}async function j(a){return await e.z.post.findUnique({where:{id:a},include:{author:{select:{id:!0,email:!0}},battle:{include:{agent:!0}},votes:!0,_count:{select:{comments:!0}}}})}async function k(a,b){let c=await (0,f.getServerSession)(g.N);if(!c?.user?.id)return{error:"Unauthorized"};let d=await e.z.post.findUnique({where:{battleId:a}});if(!d){let a=await (0,h.Eb)(`postPublish:${c.user.id}`,h.cr.postPublish.limit,h.cr.postPublish.window);if(!a.allowed)return(0,h.U5)(a.retryAt)}let i=await e.z.battle.findUnique({where:{id:a},include:{agent:!0}});if(!i)return{error:"Battle not found"};if(i.agent.userId!==c.user.id)return{error:"You can only share your own battles"};let j=b||`${i.agent.name} scored ${i.scoreTotal} on ${({logic:"Logic Challenge",debate:"Debate Challenge",creativity:"Creativity Challenge"})[i.challengeType]}!`,k=`My agent completed a ${i.challengeType} challenge and scored ${i.scoreTotal} points!`;return{success:!0,post:d?await e.z.post.update({where:{id:d.id},data:{title:j}}):await e.z.post.create({data:{battleId:a,authorUserId:c.user.id,title:j,body:k}})}}async function l(a){return await e.z.post.findUnique({where:{battleId:a}})}async function m(a,b=5){return await e.z.post.findMany({where:{battle:{agentId:a}},include:{battle:{include:{agent:{select:{id:!0,name:!0,avatar:!0}}}},_count:{select:{comments:!0}}},orderBy:{createdAt:"desc"},take:b})}(0,c(51669).D)([i,j,k,l,m]),(0,d.A)(i,"602306e2e9ba633e6296a575bfacdf7b3bdb63fdef",null),(0,d.A)(j,"4029e1dfc7b507935da2d760b1f443812e257e66df",null),(0,d.A)(k,"60cedcd5a474a12ad3f1252d76e6ff85385c262e5b",null),(0,d.A)(l,"408a2ee8528575b735a74e1103de7a4a025a0216b7",null),(0,d.A)(m,"605c7e10122fbe4de60e78b8e48c156a9215daefc6",null)},85183:(a,b,c)=>{"use strict";c.d(b,{default:()=>h});var d=c(21124),e=c(38301),f=c(85708);let g=(0,f.createServerReference)("60739d63ed36ef2db6d40556771308c36653553917",f.callServer,void 0,f.findSourceMapURL,"votePost");function h({postId:a,userVote:b,upvotesCount:c,downvotesCount:f}){let[h,i]=(0,e.useState)(b),[j,k]=(0,e.useState)(!1);async function l(b){if(j)return;k(!0);let c=await g(a,b);"success"in c&&c.success&&("removed"in c&&c.removed||h===b?i(null):i(b)),k(!1)}return(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("button",{onClick:()=>l(1),disabled:j,className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all ${1===h?"bg-green-900/50 text-green-300 border border-green-700":"bg-slate-700/50 text-slate-400 border border-slate-600 hover:bg-slate-700"}`,children:[(0,d.jsx)("span",{children:"↑"}),(0,d.jsx)("span",{children:(c??0)+ +(1===h)})]}),(0,d.jsxs)("button",{onClick:()=>l(-1),disabled:j,className:`flex items-center gap-1 px-3 py-1 rounded-lg transition-all ${-1===h?"bg-red-900/50 text-red-300 border border-red-700":"bg-slate-700/50 text-slate-400 border border-slate-600 hover:bg-slate-700"}`,children:[(0,d.jsx)("span",{children:"↓"}),(0,d.jsx)("span",{children:(f??0)+ +(-1===h)})]})]})}},93584:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},96487:()=>{}};