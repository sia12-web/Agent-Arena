(()=>{var a={};a.id=70,a.ids=[70],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:a=>{"use strict";a.exports=require("querystring")},12412:a=>{"use strict";a.exports=require("assert")},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,metadata:()=>f});var d=c(75338);c(82704);var e=c(66664);let f={title:"AgentForge - Train AI Agents. Battle in the Arena.",description:"Create AI agents, enter them into challenges, and climb the leaderboard.",icons:{icon:"/favicon.png"}};function g({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{children:(0,d.jsx)(e.Providers,{children:a})})})}},17290:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>f});var d=c(21124),e=c(57461);function f({children:a}){return(0,d.jsx)(e.SessionProvider,{children:a})}},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21003:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>n});var d=c(21124),e=c(38301),f=c(42378),g=c(3991),h=c.n(g),i=c(85708);i.callServer,i.findSourceMapURL;let j=(0,i.createServerReference)("707f959a73799a95c14ec5352161da459a5439970a",i.callServer,void 0,i.findSourceMapURL,"generateAgentResponse"),k=(0,i.createServerReference)("404a6c2b1e978bddade6acb8b2ed443f13273be068",i.callServer,void 0,i.findSourceMapURL,"createBattle");var l=c(90962);let m=[{id:"logic",name:"Logic Challenge",icon:"\uD83E\uDDE9",description:"Test analytical reasoning and problem-solving"},{id:"debate",name:"Debate Challenge",icon:"\uD83C\uDFA4",description:"Construct persuasive arguments and counterarguments"},{id:"creativity",name:"Creativity Challenge",icon:"\uD83C\uDFA8",description:"Generate original and imaginative content"}];function n(){let a=(0,f.useRouter)(),[b,c]=(0,e.useState)([]),[g,i]=(0,e.useState)(""),[n,o]=(0,e.useState)("logic"),[p,q]=(0,e.useState)(""),[r,s]=(0,e.useState)(!0),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)("");async function x(c){if(c.preventDefault(),w(""),!g)return void w("Please select an agent");if(p.length<10)return void w("Challenge input must be at least 10 characters");u(!0);let d=b.find(a=>a.id===g),e=await j(n,p,d?.prompt||""),f=await k({agentId:g,challengeType:n,inputText:p,outputText:e});if(u(!1),"error"in f&&f.error)return void w(f.error);"battle"in f&&f.battle&&a.push(`/arena/battle/${f.battle.id}`)}return r?(0,d.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-950 flex items-center justify-center",children:(0,d.jsx)("div",{className:"text-slate-400",children:"Loading..."})}):(0,d.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-slate-900 to-slate-950",children:[(0,d.jsx)("header",{className:"border-b border-slate-800 bg-slate-900/50",children:(0,d.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,d.jsx)(h(),{href:"/dashboard",className:"text-slate-400 hover:text-white",children:"← Back to Dashboard"})})}),(0,d.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"⚔️ The Arena"}),(0,d.jsx)("p",{className:"text-slate-400 mb-8",children:"Select your agent and challenge type to begin the battle."}),0===b.length?(0,d.jsx)(l.p,{icon:"\uD83E\uDD16",title:"No agents available",description:"Create an agent first to enter the arena!",actionLabel:"Create Your First Agent",actionHref:"/agent/new",variant:"card"}):(0,d.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-3",children:"Select Your Agent"}),(0,d.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:b.map(a=>(0,d.jsxs)("button",{type:"button",onClick:()=>i(a.id),className:`p-4 rounded-xl border-2 text-left transition-all ${g===a.id?"border-blue-500 bg-blue-900/30":"border-slate-700 hover:border-slate-600"}`,children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,d.jsx)("span",{className:"text-2xl",children:a.avatar}),(0,d.jsx)("span",{className:"font-semibold",children:a.name})]}),(0,d.jsxs)("div",{className:"text-sm text-slate-400",children:["Rating: ",a.rating]})]},a.id))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-3",children:"Challenge Type"}),(0,d.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:m.map(a=>(0,d.jsxs)("button",{type:"button",onClick:()=>o(a.id),className:`p-4 rounded-xl border-2 text-left transition-all ${n===a.id?"border-purple-500 bg-purple-900/30":"border-slate-700 hover:border-slate-600"}`,children:[(0,d.jsx)("div",{className:"text-3xl mb-2",children:a.icon}),(0,d.jsx)("div",{className:"font-semibold mb-1",children:a.name}),(0,d.jsx)("div",{className:"text-sm text-slate-400",children:a.description})]},a.id))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"input",className:"block text-sm font-medium mb-2",children:"Challenge Input"}),(0,d.jsx)("textarea",{id:"input",value:p,onChange:a=>q(a.target.value),required:!0,minLength:10,maxLength:2e3,rows:6,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"logic"===n?"Enter a logic problem or puzzle...":"debate"===n?"Enter a topic and your stance...":"Enter a creative writing prompt..."}),(0,d.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[p.length,"/2000 characters"]})]}),v&&(0,d.jsx)("div",{className:"bg-red-900/30 border border-red-700 text-red-300 px-4 py-3 rounded-lg",children:v}),(0,d.jsx)("button",{type:"submit",disabled:t,className:"w-full py-4 bg-purple-600 hover:bg-purple-700 disabled:bg-slate-700 text-white font-semibold rounded-lg transition-colors text-lg",children:t?"Battling...":"⚔️ Enter Battle"})]})]})]})}},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31893:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["arena",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,35606)),"C:\\Users\\shahb\\myApplications\\Agent Arena\\app\\arena\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,16953)),"C:\\Users\\shahb\\myApplications\\Agent Arena\\app\\layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,I=["C:\\Users\\shahb\\myApplications\\Agent Arena\\app\\arena\\page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/arena/page",pathname:"/arena",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/arena/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},33873:a=>{"use strict";a.exports=require("path")},35440:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},35606:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\shahb\\\\myApplications\\\\Agent Arena\\\\app\\\\arena\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\shahb\\myApplications\\Agent Arena\\app\\arena\\page.tsx","default")},38544:(a,b,c)=>{Promise.resolve().then(c.bind(c,35606))},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},57467:(a,b,c)=>{"use strict";c.r(b),c.d(b,{"00f891a334bc7670ac7fc574b2cf1a5263096cad7c":()=>n,"404a6c2b1e978bddade6acb8b2ed443f13273be068":()=>m,"409e3d952a16dc36fccd1daa57ec5ce35565f97427":()=>o,"707f959a73799a95c14ec5352161da459a5439970a":()=>p});var d=c(91488);c(27806);var e=c(32588),f=c(94924),g=c(85866),h=c(39493);let i=h.Ik({agentId:h.Yj().min(1,"Agent is required"),challengeType:h.k5(["logic","debate","creativity"],{required_error:"Challenge type is required"}),inputText:h.Yj().min(10,"Challenge input must be at least 10 characters").max(2e3,"Input must be 2000 characters or less"),outputText:h.Yj().optional()}),j=["hate","kill","violence","terrorist","nazi","hitler","racist","slur","discrimination","harassment"];function k(a){let b=a.toLowerCase();return j.some(a=>b.includes(a))}var l=c(89163);async function m(a){let b=await (0,e.getServerSession)(f.N);if(!b?.user?.id)return{error:"Unauthorized"};let c=await (0,l.Eb)(`battleSubmit:${b.user.id}`,l.cr.battleSubmit.limit,l.cr.battleSubmit.window);if(!c.allowed)return(0,l.U5)(c.retryAt);let d=i.safeParse(a);if(!d.success)return{error:"Invalid input",fields:d.error.flatten()};let h=await g.z.agent.findUnique({where:{id:a.agentId}});if(!h||h.userId!==b.user.id)return{error:"Agent not found or unauthorized"};let{scoreTotal:j,scoreBreakdown:m}=function(a,b,c){if(k(b)||k(c))return{scoreTotal:0,scoreBreakdown:{blocked_content:-100}};switch(a){case"logic":let d={base:40},e=40;/answer:/i.test(c)&&(d.answer_bonus=10,e+=10),/^[\s]*(•|-|\d+\.)/m.test(c)&&(d.structure_bonus=10,e+=10);let f=c.length;return f>=80&&f<=600&&(d.length_bonus=10,e+=10),Object.values(c.split("\n").map(a=>a.trim()).filter(a=>a).reduce((a,b)=>(a[b]=(a[b]||0)+1,a),{})).some(a=>a>=3)&&(d.spam_penalty=-10,e-=10),d.civility=k(c)?-100:0,{scoreTotal:Math.max(0,e+=d.civility),scoreBreakdown:d};case"debate":let g={base:40},h=40;return/claim:/i.test(c)&&(g.claim_bonus=10,h+=10),/however|on the other hand/i.test(c)&&(g.counterargument_bonus=10,h+=10),/example:/i.test(c)&&(g.example_bonus=10,h+=10),k(c)&&(g.keyword_penalty=-20,h-=20),{scoreTotal:Math.max(0,h),scoreBreakdown:g};case"creativity":return function(a,b){let c={base:40},d=40,e=b.length;b.split("\n").filter(a=>a.trim()),/^title:\s|^\#\s/im.test(b)&&(c.title_bonus=10,d+=10),(b.match(/part \d+|chapter \d+|##+/gi)||[]).length>=3&&(c.section_bonus=10,d+=10);let f=b.trim().split(/\s+/),g=new Set(f.map(a=>a.toLowerCase()));return f.length>0&&g.size/f.length>=.5&&(c.variety_bonus=10,d+=10),e<80&&(c.too_short_penalty=-10,d-=10),c.civility=k(b)?-100:0,{scoreTotal:Math.max(0,d+=c.civility),scoreBreakdown:c}}(0,c);default:return{scoreTotal:0,scoreBreakdown:{error:-100}}}}(a.challengeType,a.inputText,a.outputText);if(0===j&&m.blocked_content)return{error:"Content blocked. Please ensure your input is appropriate."};let n=await g.z.battle.create({data:{agentId:a.agentId,challengeType:a.challengeType,inputText:a.inputText,outputText:a.outputText,scoreTotal:j,scoreBreakdown:JSON.stringify(m)}}),o=Math.round(h.rating+(j-50)/10);return await g.z.agent.update({where:{id:a.agentId},data:{rating:Math.max(100,o)}}),{success:!0,battle:n,scoreTotal:j,scoreBreakdown:m}}async function n(){let a=await (0,e.getServerSession)(f.N);return a?.user?.id?await g.z.agent.findMany({where:{userId:a.user.id},orderBy:{createdAt:"desc"}}):[]}async function o(a){let b=await g.z.battle.findUnique({where:{id:a},include:{agent:!0}});return b?{...b,scoreBreakdown:JSON.parse(b.scoreBreakdown)}:null}async function p(a,b,c){let d={logic:[`To solve this problem, I'll approach it step by step:

1. First, let me understand the given information.
2. Next, I'll analyze the relationships.
3. Finally, I'll reach a conclusion.

Answer: Based on the logical analysis, the conclusion is clear.`,`Step 1: Identify the key elements.
Step 2: Analyze the logical structure.
Step 3: Draw a conclusion.

Therefore, the answer is derived from valid reasoning.`],debate:[`Claim: ${b.substring(0,50)}...

Reason: The evidence supports this position because of fundamental principles and practical considerations.

Example: In practice, we see this approach leading to better outcomes.

However, I acknowledge that opponents might argue... but I believe the stronger case is for my position.`,`My position on this topic is based on several key arguments:

1. First, there are practical considerations.
2. Second, ethical principles support this view.
3. Third, real-world examples demonstrate validity.

While others may disagree, I believe the preponderance of evidence favors this stance.`],creativity:[`Once upon a time, in a world not unlike our own, something extraordinary happened. The characters in our story discovered that creativity and imagination could change reality itself.

As the story unfolds, we see how courage and innovation triumph over adversity. The journey leads to unexpected revelations and meaningful transformations.

In the end, the true power of human spirit shines through.`,`In the vast tapestry of existence, there are moments that define who we are. This is one such moment.

The adventure begins with a simple discovery, but soon blossoms into an epic journey of self-discovery and wonder. Along the way, challenges are met with creativity, and obstacles become opportunities.

The conclusion reminds us that within every challenge lies the seed of growth.`]}[a];return d[Math.floor(Math.random()*d.length)]}(0,c(40410).D)([m,n,o,p]),(0,d.A)(m,"404a6c2b1e978bddade6acb8b2ed443f13273be068",null),(0,d.A)(n,"00f891a334bc7670ac7fc574b2cf1a5263096cad7c",null),(0,d.A)(o,"409e3d952a16dc36fccd1daa57ec5ce35565f97427",null),(0,d.A)(p,"707f959a73799a95c14ec5352161da459a5439970a",null)},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66664:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\shahb\\myApplications\\Agent Arena\\components\\providers.tsx","Providers")},73392:(a,b,c)=>{Promise.resolve().then(c.bind(c,21003))},73432:(a,b,c)=>{Promise.resolve().then(c.bind(c,66664))},74075:a=>{"use strict";a.exports=require("zlib")},74104:(a,b,c)=>{Promise.resolve().then(c.bind(c,17290))},79428:a=>{"use strict";a.exports=require("buffer")},79551:a=>{"use strict";a.exports=require("url")},81630:a=>{"use strict";a.exports=require("http")},82704:()=>{},85866:(a,b,c)=>{"use strict";c.d(b,{z:()=>e});var d=c(96330);let e=globalThis.prisma??new d.PrismaClient},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},89163:(a,b,c)=>{"use strict";c.d(b,{Eb:()=>e,U5:()=>f,cr:()=>g});let d=new Map;async function e(a,b,c){let e=Date.now(),f=d.get(a);return!f||e>f.resetAt?(d.set(a,{count:1,resetAt:e+c}),{allowed:!0}):f.count>=b?{allowed:!1,retryAt:f.resetAt}:(f.count++,{allowed:!0})}function f(a){let b=function(a){let b=Math.ceil((a-Date.now())/1e3);if(b<60)return`${b} seconds`;let c=Math.ceil(b/60);return`${c} minutes`}(a);return{error:`You're doing that too fast. Try again in ${b}.`}}let g={login:{limit:10,window:6e4},battleSubmit:{limit:10,window:6e4},postPublish:{limit:10,window:36e5},vote:{limit:60,window:6e4},comment:{limit:20,window:6e4},follow:{limit:30,window:6e4}}},90962:(a,b,c)=>{"use strict";c.d(b,{p:()=>h});var d=c(21124),e=c(3991),f=c.n(e);let g={card:"bg-slate-800/50 border border-slate-700 rounded-xl p-8 text-center",inline:"text-center py-8",section:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center"};function h({icon:a,title:b,description:c,actionLabel:e,actionHref:h,variant:i="card"}){return(0,d.jsxs)("div",{className:g[i],children:[(0,d.jsx)("div",{className:"text-4xl mb-4",children:a}),(0,d.jsx)("h3",{className:"text-xl font-semibold mb-2",children:b}),(0,d.jsx)("p",{className:"text-slate-400 mb-4",children:c}),e&&h&&(0,d.jsx)(f(),{href:h,className:"inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:e})]})}},93584:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},94735:a=>{"use strict";a.exports=require("events")},94924:(a,b,c)=>{"use strict";c.d(b,{N:()=>g});var d=c(6697),e=c(24727),f=c(85866);let g={providers:[(0,d.A)({name:"Credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(a){if(!a?.email||!a?.password)return null;let b=await f.z.user.findUnique({where:{email:a.email}});return b&&await e.compare(a.password,b.password)?{id:b.id,email:b.email}:null}})],pages:{signIn:"/login"},session:{strategy:"jwt"},callbacks:{jwt:async({token:a,user:b})=>(b&&(a.id=b.id),a),session:async({session:a,token:b})=>(a.user&&(a.user.id=b.id),a)},secret:process.env.NEXTAUTH_SECRET}},96330:a=>{"use strict";a.exports=require("@prisma/client")}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[139,765,991,164,232,493],()=>b(b.s=31893));module.exports=c})();